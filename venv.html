<!DOCTYPE html>




<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- OpenGraph metadata: ogp.me -->
    <meta property="og:title" content="venv" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="westurner/dotfiles" />
    <!--
    <meta property="og:description" content="Documentation for the dotfiles project" />
    -->
    <meta property="og:image" content="" />
    <meta property="og:image:width" content="470" />
    <meta property="og:image:height" content="242" />
    <!--
    <meta property="og:image:secure_url" content="./_static/img/logo.png" />
    -->
    <!-- Twitter metadata -->
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:title" content="venv" />
    <meta property="twitter:description" content="Documentation for the dotfiles project" />
    <meta property="twitter:site" content="westurner" />
    <meta property="twitter:creator" content="westurner" />
    
    <title>venv &mdash; westurner/dotfiles 0.9.0 documentation</title>
    <meta name="description" content="">
    <meta name="author" content="">

    

<link rel="stylesheet" href="_static/css/basicstrap-base.css" type="text/css" />
<link rel="stylesheet" id="current-theme" href="_static/css/bootstrap3/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" id="current-adjust-theme" type="text/css" />

<link rel="stylesheet" href="_static/css/font-awesome.min.css">

<link rel="stylesheet" href="_static/css/basicstrap.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="_static/css/local.css" type="text/css" />
<link rel="stylesheet" href="_static/issuetracker.css" type="text/css" />
<link rel="stylesheet" href="_static/changelog.css" type="text/css" />
    
<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    './',
            VERSION:     '0.9.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
  };
</script>
    <script type="text/javascript" src="_static/js/jquery.min.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/local.js"></script>
    <script type="text/javascript" src="_static/js/bootstrap3.min.js"></script>
<script type="text/javascript" src="_static/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="_static/js/basicstrap.js"></script>
<script type="text/javascript">
</script>
    <link rel="top" title="westurner/dotfiles 0.9.0 documentation" href="index" />
    <link rel="next" title="usrlog" href="usrlog" />
    <link rel="prev" title="Usage" href="usage" /> 
  </head>
  <body role="document">
    <div id="navbar-top" class="navbar navbar-default" role="navigation" aria-label="top navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index">westurner/dotfiles 0.9.0 documentation</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown visible-xs">
                <a role="button" id="localToc" data-toggle="dropdown" data-target="#" href="#">Table Of Contents <b class="caret"></b></a>
                <ul class="dropdown-menu localtoc sp-localtoc" role="menu" aria-labelledby="localToc">
                <ul>
<li><a class="reference internal" href="#">venv</a><ul>
<li><a class="reference internal" href="#things-named-venv">Things named &#8220;venv&#8221;</a><ul>
<li><a class="reference internal" href="#pyvenv">pyvenv</a></li>
<li><a class="reference internal" href="#dotfiles-venv">dotfiles.venv</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parts-of-a-venv">Parts of a venv</a></li>
<li><a class="reference internal" href="#installing-venv">Installing Venv</a></li>
<li><a class="reference internal" href="#working-with-venv">Working With Venv</a><ul>
<li><a class="reference internal" href="#cdalias">CdAlias</a></li>
<li><a class="reference internal" href="#venv-paths">Venv paths</a></li>
<li><a class="reference internal" href="#venv-py">venv.py</a><ul>
<li><a class="reference internal" href="#venv-python-api">Venv Python API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#venv-sh">venv.sh</a></li>
<li><a class="reference internal" href="#venv-root-prefix-sh">venv_root_prefix.sh</a></li>
<li><a class="reference internal" href="#id15">venv_ipymagics.py</a></li>
<li><a class="reference internal" href="#venv-vim">venv.vim</a></li>
</ul>
</li>
<li><a class="reference internal" href="#venv-shell-configuration">Venv Shell Configuration</a></li>
<li><a class="reference internal" href="#venv-json">Venv JSON</a><ul>
<li><a class="reference internal" href="#other-scripts-with-venv-style-paths">Other scripts with venv-style paths</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                </ul>
              </li>

            
              <li><a href="usage" title="Usage" accesskey="P">previous </a></li>
              <li><a href="usrlog" title="usrlog" accesskey="N">next </a></li>
              <li><a href="py-modindex" title="Python Module Index" >modules </a></li>
              <li><a href="genindex" title="General Index" accesskey="I">index </a></li>
            
            <li class="visible-xs"><a href="_sources/venv.txt" rel="nofollow">Show Source</a></li>

            <li class="visible-xs">
                <form class="search form-search form-inline navbar-form navbar-right sp-searchbox" action="search" method="get">
                  <div class="input-append input-group">
                    <input type="text" class="search-query form-control" name="q" placeholder="Search...">
                    <span class="input-group-btn">
                    <input type="submit" class="btn" value="Go" />
                    </span>
                  </div>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </li>

            

          </ul>

        </div>
      </div>
    </div>
    

    <!-- container -->
    <div class="container-fluid">

      <!-- row -->
      <div class="row">
         
<div class="col-md-3 hidden-xs" id="sidebar-wrapper">
  <div class="sidebar hidden-xs" role="navigation" aria-label="main navigation">
  <h3><a href="index">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">venv</a><ul>
<li><a class="reference internal" href="#things-named-venv">Things named &#8220;venv&#8221;</a><ul>
<li><a class="reference internal" href="#pyvenv">pyvenv</a></li>
<li><a class="reference internal" href="#dotfiles-venv">dotfiles.venv</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parts-of-a-venv">Parts of a venv</a></li>
<li><a class="reference internal" href="#installing-venv">Installing Venv</a></li>
<li><a class="reference internal" href="#working-with-venv">Working With Venv</a><ul>
<li><a class="reference internal" href="#cdalias">CdAlias</a></li>
<li><a class="reference internal" href="#venv-paths">Venv paths</a></li>
<li><a class="reference internal" href="#venv-py">venv.py</a><ul>
<li><a class="reference internal" href="#venv-python-api">Venv Python API</a></li>
</ul>
</li>
<li><a class="reference internal" href="#venv-sh">venv.sh</a></li>
<li><a class="reference internal" href="#venv-root-prefix-sh">venv_root_prefix.sh</a></li>
<li><a class="reference internal" href="#id15">venv_ipymagics.py</a></li>
<li><a class="reference internal" href="#venv-vim">venv.vim</a></li>
</ul>
</li>
<li><a class="reference internal" href="#venv-shell-configuration">Venv Shell Configuration</a></li>
<li><a class="reference internal" href="#venv-json">Venv JSON</a><ul>
<li><a class="reference internal" href="#other-scripts-with-venv-style-paths">Other scripts with venv-style paths</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="usage"
                        title="previous chapter">Usage</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="usrlog"
                        title="next chapter">usrlog</a></p>
<div id="searchbox" role="search">
  <h3>Quick search</h3>
  <form class="search form-inline" action="search" method="get">
      <div class="input-append input-group">
        <input type="text" class="search-query form-control" name="q" placeholder="Search...">
        <span class="input-group-btn">
        <input type="submit" class="btn" value="Go" />
        </span>
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/venv.txt"
            rel="nofollow"
            target="_blank">Source RST</a></li>
    <li><a href="https://github.com/westurner/dotfiles/blob/master/docs/venv.rst"
            rel="nofollow"
            target="_blank">Source</a></li>
    <li><a href="https://github.com/westurner/dotfiles/edit/master/docs/venv.rst"
            rel="nofollow"
            target="_blank">Edit</a></li>
     <li><a href="https://github.com/westurner/dotfiles/commits/master/docs/venv.rst"
             rel="nofollow"
             target="_blank">History</a></li>
     <li><a href="https://github.com/westurner/dotfiles/blame/master/docs/venv.rst"
             rel="nofollow"
             target="_blank">Annotate</a></li>
  </ul>
  <h3>Source</h3>
  <h5><a href="https://github.com/westurner/dotfiles">github.com/westurner/dotfiles</a>
      / <a href="https://github.com/westurner/dotfiles/tree/master"
                rel="nofollow"
                target="_blank"
                font="monospace">master</a>
  </h5>

  <ul>
    <li><pre>git clone https://github.com/westurner/dotfiles</pre></li>
    <li><pre>git clone ssh://git@github.com/westurner/dotfiles</pre></li>
    <li><pre>git clone git://github.com/westurner/dotfiles</pre></li>
  </ul><div class="widget">
    <h3><a href="https://westurner.org/">@westurner</a></h3>
    <ul>
        <li><a href="https://github.com/westurner/dotfiles">github.com/westurner/dotfiles</a></li>
        <li><a href="https://westurner.org/dotfiles/">westurner.org/dotfiles/</a></li>
        <li><a href="https://westurner.org/wiki/">westurner.org/wiki/</a></li>
    </ul>
</div>
  </div>
</div> 
        

        <div class="col-md-9" id="content-wrapper">
          <div class="document" role="main">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body">
                  
  <span class="target" id="index-0"></span><div class="section" id="venv">
<span id="index-1"></span><span id="id1"></span><h1>venv<a class="headerlink" href="#venv" title="Permalink to this headline">¶</a></h1>
<div class="section" id="things-named-venv">
<h2>Things named &#8220;venv&#8221;<a class="headerlink" href="#things-named-venv" title="Permalink to this headline">¶</a></h2>
<p>&#8220;venv&#8221; is a common shortname for &#8220;virtualenv&#8221; (<em>virtual environment</em>).</p>
<ul>
<li><p class="first"><a class="reference internal" href="#pyvenv"><em>pyvenv</em></a> (<code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">venv</span></code>)
is now in the <a class="reference internal" href="tools/index#python3"><em>Python &gt;= 3.3</em></a>
standard library.</p>
<ul class="simple">
<li>pyvenv is very similar to <a class="reference internal" href="tools/index#virtualenv"><em>Virtualenv</em></a>
in terms of standard <a class="reference internal" href="#venv-paths"><em>Venv paths</em></a>.</li>
</ul>
</li>
<li><p class="first"><a class="reference internal" href="#dotfiles-venv"><em>dotfiles.venv</em></a> (<code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">dotfiles.venv.ipython_config</span></code>)</p>
<div class="line-block">
<div class="line">Src: (<a class="reference internal" href="#venv-py"><em>./scripts/venv.py</em></a>,</div>
<div class="line">Docs:</div>
</div>
<ul class="simple">
<li>In this context, when we say &#8220;<em>venv</em>&#8221;, we mean <a class="reference internal" href="#dotfiles-venv"><em>dotfiles.venv</em></a>.</li>
<li><a class="reference internal" href="#dotfiles-venv"><em>dotfiles.venv</em></a> generates configuration sets of
<a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> and/or <a class="reference internal" href="#venv-shell-configuration"><em>Venv Shell Configuration</em></a>.</li>
</ul>
</li>
<li><p class="first">The <a class="reference internal" href="#venv-vim"><em>venv.vim</em></a> <a class="reference internal" href="tools/index#vim"><em>Vim</em></a> plugin bundle includes
<a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions which reference
reference <a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> (<code class="docutils literal"><span class="pre">:Cdhelp</span></code>).</p>
</li>
</ul>
<div class="section" id="pyvenv">
<span id="index-2"></span><span id="id2"></span><h3>pyvenv<a class="headerlink" href="#pyvenv" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: <a class="reference external" href="https://hg.python.org/cpython/file/tip/Lib/venv">https://hg.python.org/cpython/file/tip/Lib/venv</a></div>
<div class="line">Docs: <a class="reference external" href="https://docs.python.org/3/library/venv.html">https://docs.python.org/3/library/venv.html</a></div>
</div>
<p><code class="docutils literal"><span class="pre">pyvenv</span></code> is the <a class="reference internal" href="tools/index#virtualenv"><em>Virtualenv</em></a> -like functionality
now included in <a class="reference internal" href="tools/index#python3"><em>Python &gt;= 3.3</em></a> (<code class="docutils literal"><span class="pre">python3</span> <span class="pre">-m</span> <span class="pre">venv</span></code>)</p>
<ul class="simple">
<li><a class="reference internal" href="#dotfiles-venv"><em>dotfiles.venv</em></a> is compatible with pyvenv paths.</li>
</ul>
<span class="target" id="index-3"></span></div>
<div class="section" id="dotfiles-venv">
<span id="index-4"></span><span id="id3"></span><h3>dotfiles.venv<a class="headerlink" href="#dotfiles-venv" title="Permalink to this headline">¶</a></h3>
<p>venv (<em>dotfiles.venv</em>) makes working with <a class="reference internal" href="tools/index#virtualenv"><em>Virtualenv</em></a>,
<a class="reference internal" href="tools/index#virtualenvwrapper"><em>Virtualenvwrapper</em></a>, <a class="reference internal" href="tools/index#bash"><em>Bash</em></a>, <a class="reference internal" href="tools/index#zsh"><em>ZSH</em></a>,
<a class="reference internal" href="tools/index#vim"><em>Vim</em></a>, and <a class="reference internal" href="tools/index#ipython"><em>IPython</em></a> within a project context very easy:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>we dotfiles;
test &quot;$_WRD&quot; == &quot;$WORKON_HOME/dotfiles/src/dotfiles&quot;
</pre></div>
</div>
<span class="target" id="index-5"></span></div>
</div>
<div class="section" id="parts-of-a-venv">
<span id="id4"></span><h2>Parts of a venv<a class="headerlink" href="#parts-of-a-venv" title="Permalink to this headline">¶</a></h2>
<p>There are a few parts to <code class="docutils literal"><span class="pre">venv</span></code>:</p>
<ul>
<li><dl class="first docutils">
<dt><a class="reference internal" href="#venv-py"><em>venv.py</em></a></dt>
<dd><p class="first">venv.py serves a number of DRY (<em>don&#8217;t repeat yourself</em>) purposes:</p>
<ul class="last simple">
<li>Configure IPython / Jupyter at startup</li>
<li>Generate per-venv <a class="reference internal" href="#venv-shell-configuration"><em>Venv Shell Configuration</em></a> for Bash, ZSH</li>
<li>Generate <a class="reference internal" href="#venv-sh"><em>venv.sh</em></a>, <a class="reference internal" href="#venv-vim"><em>venv.vim</em></a>, and <em class="xref std std-ref">venv_ipymagics.py</em>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="#venv-sh"><em>venv.sh</em></a></dt>
<dd><p class="first">venv.sh configures Bash/ZSH <a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions
(e.g. for initial terminal configuration).</p>
<ul class="last simple">
<li>venv.sh is generated by venv.py (<code class="docutils literal"><span class="pre">make</span> <span class="pre">generate_venv</span></code>)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><a class="reference internal" href="#venv-vim"><em>venv.vim</em></a></dt>
<dd><p class="first">venv.vim configures <a class="reference internal" href="tools/index#vim"><em>Vim</em></a> <a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions.</p>
<ul class="last simple">
<li>venv.vim is required and installed with Vundle in my <a class="reference internal" href="tools/index#dotvim"><em>Dotvim</em></a>.</li>
<li>venv.vim is generated by venv.py (<code class="docutils literal"><span class="pre">make</span> <span class="pre">generate_venv</span></code>)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><em class="xref std std-ref">ipython magics.py</em></dt>
<dd><p class="first"><cite>ipython magics.py</cite> includes <a class="reference internal" href="tools/index#ipython"><em>IPython</em></a> <a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions
like <code class="docutils literal"><span class="pre">%cdhelp</span></code> and <code class="docutils literal"><span class="pre">%dotfiles_status</span></code> (<code class="docutils literal"><span class="pre">ds</span></code>).</p>
<ul class="simple">
<li>venv_ipymagics.py is generated by venv.py (<code class="docutils literal"><span class="pre">make</span> <span class="pre">generate_venv</span></code>)</li>
</ul>
<div class="last line-block">
<div class="line">Src: <a href="#id20"><span class="problematic" id="id21">`venv_ipymagics.py`_</span></a></div>
<div class="line">Doc: <code class="xref py py-mod docutils literal"><span class="pre">dotfiles.venv.venv_ipymagics</span></code></div>
<div class="line">Doc: <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.CdAlias" title="dotfiles.venv.ipython_config.CdAlias"><code class="xref py py-class docutils literal"><span class="pre">CdAliases</span></code></a></div>
</div>
</dd>
</dl>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">etc/bash/</span></code> <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/bash/10-bashrc.venv.sh">10-bashrc.venv.sh</a> configures <a class="reference internal" href="tools/index#bash"><em>Bash</em></a> at startup
(see: <a class="reference internal" href="usage#dotfiles-bash-config"><em>Usage &gt; Bash</em></a>)</p>
</li>
</ul>
</div>
<div class="section" id="installing-venv">
<span id="index-7"></span><span id="id5"></span><h2>Installing Venv<a class="headerlink" href="#installing-venv" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">[ ] Install <a class="reference internal" href="tools/index#virtualenv"><em>Virtualenv</em></a>, <a class="reference internal" href="tools/index#virtualenvwrapper"><em>Virtualenvwrapper</em></a>,
and <a class="reference internal" href="tools/index#dotfiles"><em>Dotfiles</em></a></p>
<div class="code bash highlight-python"><div class="highlight"><pre>## scripts/bootstrap_dotfiles.sh -I
pip install virtualenvwrapper  # -&gt; virtualenv

##
virtual_env=&quot;$HOME/-wrk/-ve27/dotfiles&quot;; cd $virtual_env;
pip install -e &#39;git+https://github.com/westurner/dotfiles@master#egg=dotfiles&#39;
# git clone https://github.com/westurner/dotfiles &quot;${virtual_env}/src/dotfiles&quot;

# symlink ~/.bashrc so that $PATH contains &quot;${__DOTFILES}/scripts&quot;
_WRD=&quot;${virtual_env}/src/dotfiles&quot;
bash $_WRD/scripts/bootstrap_dotfiles.sh -h
bash $_WRD/scripts/bootstrap_dotfiles.sh -S

# Load the shell configuration
source ~/.bashrc
bootstrap_dotfiles.sh -h  # help
bootstrap_dotfiles.sh -C  # check for dotfiles/venv components
venv.py -h                # echo $PATH; ls $__DOTFILES/scripts/venv.py
</pre></div>
</div>
</li>
<li><p class="first">[ ] Create a new venv named <code class="docutils literal"><span class="pre">dotfiles</span></code>:</p>
<div class="code bash highlight-python"><div class="highlight"><pre># Create a venv named &quot;dotfiles&quot;, workon it, and make FHS `venv paths`
mkvirtualenv dotfiles; we dotfiles; venv_mkdirs;

# Git clone into $_WRD:
git clone https://github.com/westurner/dotfiles $_WRD;

# Edit $_WRD/README.rst and $_WRD/Makefile
(cdw; e README.rst Makefile)
ew README.rst Makefile
</pre></div>
</div>
</li>
<li><p class="first">[ ] Configure a shell, print relevant env variables (twice),
<code class="docutils literal"><span class="pre">cd</span></code> to the working directory (<code class="docutils literal"><span class="pre">$_WRD</span></code>),
and open <code class="docutils literal"><span class="pre">README.rst</span></code> in a named <a class="reference internal" href="tools/index#vim"><em>Vim</em></a> server for an existing
venv named <code class="docutils literal"><span class="pre">dotfiles</span></code>:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>we dotfiles; ds; cdwrd; e README.rst
we dotfiles; ew README.rst
</pre></div>
</div>
</li>
<li><p class="first">[ ] Configure the shell with <a class="reference internal" href="tools/index#virtualenvwrapper"><em>Virtualenvwrapper</em></a>
(and, optionally, an initial venv root <code class="docutils literal"><span class="pre">/</span></code> prefix):</p>
<div class="code bash highlight-python"><div class="highlight"><pre>### etc/bash/07-bashrc.virtualenvwrapper.sh
## _setup_virtualenvwrapper
source $(which virtualenvwrapper.sh)  # source virtualenvwrapper_lazy.sh
### etc/bash/08-bashrc.conda.sh
## _setup_conda [CONDA_ENVS_PATH [CONDA_ROOT]]
### etc/bash/10-bashrc.venv.sh
source &lt;(venv.py --prefix=/ --print-bash)
</pre></div>
</div>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For a new venv (as might be created with <code class="docutils literal"><span class="pre">mkvirtualenv</span> <span class="pre">dotfiles</span></code>),
the <code class="docutils literal"><span class="pre">$_SRC</span></code> and <code class="docutils literal"><span class="pre">$_WRD</span></code> directories do not yet exist. You can
create these like so:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>## _APP=dotfiles _WRD=$VIRTUAL_ENV/src/$_APP
mkdir -p $_WRD
</pre></div>
</div>
<p>Or, use the <code class="docutils literal"><span class="pre">venv_mkdirs</span></code> shell function
to create a more complete <a class="reference internal" href="tools/index#fhs"><em>Filesystem Hierarchy Standard</em></a> tree of directories under
<code class="docutils literal"><span class="pre">$VIRTUAL_ENV</span></code>:</p>
<div class="code bash last highlight-python"><div class="highlight"><pre>venv_mkdirs; mkdir -p $_WRD
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-venv">
<h2>Working With Venv<a class="headerlink" href="#working-with-venv" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">workon</span></code></dt>
<dd><p class="first"><a href="#id6"><span class="problematic" id="id7">``</span></a>workon` is a shell function defined by <a class="reference internal" href="tools/index#virtualenvwrapper"><em>Virtualenvwrapper</em></a></p>
<ul class="last simple">
<li><code class="docutils literal"><span class="pre">workon</span></code> runs global and local virtualenvwrapper event scripts,</li>
<li>loads a virtualenv shell configuration
(<code class="docutils literal"><span class="pre">source</span> <span class="pre">$WORKON_HOME/virtual_env/bin/activate</span></code>)</li>
<li>sets the <a class="reference internal" href="tools/index#shells"><em>shell</em></a> <code class="docutils literal"><span class="pre">$PATH</span></code>,</li>
<li>and then runs global and local virtualenvwrapper event scripts.</li>
<li>(see: <code class="docutils literal"><span class="pre">virtualenvwrapper()</span></code> for a list of virtualenvwrapper
commands)</li>
</ul>
</dd>
</dl>
<ul class="simple">
<li>[ ] Create and workon a venv
(a prefixed and namespaced virtualenvwrapper virtualenv):</li>
</ul>
<div class="code bash highlight-python"><div class="highlight"><pre># Workon a virtualenv with virtualenvwrapper and dotfiles.venv
mkvirtualenv dotfiles;  # workon $WORKON_HOME/dotfiles
workon_venv dotfiles;   # Create a virtualenv with virtualenvwrapper
we dotfiles;            # we()  -&gt; workon_venv()
venv.py -xb dotfiles    # run a bash shell* within a virtualenv

function we == workon_venv {
    # [...]
    source &lt;(venv.py -q --print-bash --ve=dotfiles)
}
</pre></div>
</div>
<ul class="simple">
<li>[ ] Create and workon a <a class="reference internal" href="tools/index#conda"><em>Conda</em></a> env:</li>
</ul>
<div class="code bash highlight-python"><div class="highlight"><pre>mkvirtualenv_conda      # Create a conda env with conda create
workon_conda dotfiles;
wec dotfiles;           # wec() -&gt; workon_conda()
</pre></div>
</div>
<p>Verbosely:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">__WRK</span><span class="o">=</span><span class="s2">&quot;~/-wrk&quot;</span>                    <span class="c"># cdwrk</span>
<span class="nv">PROJECT_HOME</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">__WRK</span><span class="si">}</span><span class="s2">&quot;</span>           <span class="c"># cdph cdprojecthome</span>
<span class="nv">WORKON_HOME</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">__WRK</span><span class="si">}</span><span class="s2">/-ve27&quot;</span>      <span class="c"># cdwh cdworkonhome</span>
<span class="nv">__DOTFILES</span><span class="o">=</span><span class="s2">&quot;~/-dotfiles&quot;</span>          <span class="c"># cdd  cddotfiles</span>
                                  <span class="c"># a very special symlink to</span>
                                  <span class="c"># $WORKON_HOME/dotfiles/src/dotfiles</span>

<span class="nv">__VENV</span><span class="o">=</span><span class="k">$(</span>which venv.py<span class="k">)</span><span class="p">;</span>
<span class="nv">__VENV</span><span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">__DOTFILES</span><span class="si">}</span><span class="s2">/scripts/venv.py&quot;</span>  <span class="c"># 10-bashrc.venv.sh</span>
<span class="c"># venv()  { (set -x; $__VENV $@)    }   # 10-bashrc.venv.sh</span>
<span class="c"># venv-() { (set -x; $__VENV -e $@) }   # 10-bashrc.venv.sh</span>

<span class="c"># These all print venv.py --help:</span>
<span class="nv">$__VENV</span> --help
venv.py --help
venv -h

<span class="c"># Print environment variables for the &quot;dotfiles&quot; venv:</span>
venv.py --print-vars --VIRTUAL_ENV<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">WORKON_HOME</span><span class="si">}</span><span class="s2">/dotfiles&quot;</span>
venv.py --print-vars --virtual-env<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">WORKON_HOME</span><span class="si">}</span><span class="s2">/dotfiles&quot;</span>
venv.py --print-vars --ve<span class="o">=</span><span class="s2">&quot;</span><span class="si">${</span><span class="nv">WORKON_HOME</span><span class="si">}</span><span class="s2">/dotfiles&quot;</span>
venv.py --print-vars --ve dotfiles
venv.py --print-vars dotfiles

<span class="c"># Generate a source-able Bash configuration script</span>
venv.py --print-bash dotfiles

<span class="c">## Workon the dotfiles virtualenv (in the current shell)</span>
we dotfiles

<span class="c">## Workon the dotfiles virtualenv (with a bash subshell)</span>
venv.py -x bash dotfiles
venv.py -xb dotfiles
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The following commands are different to argparse
(argument order matter with positional arguments)</p>
<div class="code bash last highlight-python"><div class="highlight"><pre># does not work:
#! venv dotfiles --print-bash        # does not work

# does work
venv --print-bash dotfiles        # does work
venv --ve=dotfiles --print-bash   # does work
</pre></div>
</div>
</div>
<div class="section" id="cdalias">
<span id="index-8"></span><span id="id8"></span><h3>CdAlias<a class="headerlink" href="#cdalias" title="Permalink to this headline">¶</a></h3>
<p>CdAliases make it easy to change directory (<code class="docutils literal"><span class="pre">cd</span></code>) to
<a class="reference internal" href="#venv-paths"><em>Venv paths</em></a>.</p>
<p>Problem:</p>
<ul class="simple">
<li>Fully-expanded absolute virtualenv paths can be really long
to type and remember.</li>
</ul>
<p>Solutions:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">pushd</span></code> and <code class="docutils literal"><span class="pre">popd</span></code> &#8212; included with <a class="reference internal" href="tools/index#bash"><em>Bash</em></a>/<a class="reference internal" href="tools/index#zsh"><em>ZSH</em></a> &#8212;
maintain a stack of directories.</li>
<li><code class="docutils literal"><span class="pre">bashmarks</span></code> maintains a set of <code class="docutils literal"><span class="pre">DIR_</span></code> environment variables
and <code class="docutils literal"><span class="pre">l</span></code>, <code class="docutils literal"><span class="pre">s</span></code>, and <code class="docutils literal"><span class="pre">g</span></code> shell functions for listing,
saving to, and going to a saved set of directories.</li>
<li><a class="reference internal" href="#cdalias"><em>CdAliases</em></a> are functions for changing
to a given directory path prefix
as determined by shell variables like <code class="docutils literal"><span class="pre">HOME</span></code> (cdh),
<code class="docutils literal"><span class="pre">__WRK</span></code> (cdwrk), <code class="docutils literal"><span class="pre">WORKON_HOME</span></code> (cdwh), <code class="docutils literal"><span class="pre">VIRTUAL_ENV</span></code> (cdv),
<code class="docutils literal"><span class="pre">_SRC</span></code> (cds), and <code class="docutils literal"><span class="pre">_WRD</span></code> (cdw).<ul>
<li>See: <a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> for a more complete table of CdAliases.</li>
</ul>
</li>
<li>The venv <em class="xref std std-ref">CdAlias</em> scripts are generated
from
the <code class="docutils literal"><span class="pre">generate_venv</span></code> <code class="docutils literal"><span class="pre">Makefile</span></code> build step
at build time:</li>
</ul>
<div class="code bash highlight-python"><div class="highlight"><pre>## ./Makefile
generate_venv:
    # generate ipython_magics.py, venv.sh, and venv.vim
    $(_VENV) --print-ipython-magics . &gt; ./src/dotfiles/venv/venv_ipymagics.py
    $(_VENV) --print-bash-aliases --compress --prefix=/ &gt; ./etc/venv/venv.sh
    $(_VENV) --print-bash --compress --prefix=/ | grep -v &#39;^export HOME=&#39; &gt; ./etc/venv/venv_root_prefix.sh
    $(_VENV) --print-vim-cdalias . &gt; ./etc/venv/venv.vim

## Bash
$ make generate_venv
</pre></div>
</div>
<ul>
<li><p class="first">You can list all defined venv <a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions
in Bash, ZSH, IPython, and Vim:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>cdhelp   # Bash/ZSH
%cdhelp  # IPython
cdhelp   # IPython
:Cdhelp  # Vim
</pre></div>
</div>
</li>
<li><p class="first">Each <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.CdAlias" title="dotfiles.venv.ipython_config.CdAlias"><code class="xref py py-class docutils literal"><span class="pre">CdAlias</span></code></a>
defined in <code class="docutils literal"><span class="pre">env.aliases</span></code> is expanded for Bash, IPython, and Vim.
For example, <code class="docutils literal"><span class="pre">CdAlias('__WRD',</span> <span class="pre">aliases='w')</span></code> is expanded to   # TODO FIXME</p>
<div class="code bash highlight-python"><div class="highlight"><pre>cdwrd  [&lt;TAB&gt;][path]  # Bash/ZSH
cdw    [path][&lt;TAB&gt;]  # Bash/ZSH
%cdwrd [path] # IPython
cdwrd  [path] # IPython
%cdw   [path] # IPython
cdw    [path] # IPython
:Cdwrd [path] # Vim
:Cdw   [path] # Vim
</pre></div>
</div>
<ul class="simple">
<li>See: <a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> for a more complete table of CdAliases.</li>
</ul>
</li>
<li><p class="first">Bash/ZSH cdaliases support tab-completion,
and SHOULD error (return nonzero) if the given variable is undefined.</p>
<div class="code bash highlight-python"><div class="highlight"><pre>$ cdw || echo &#39;false&#39;
_WRD is not set
false
</pre></div>
</div>
</li>
<li><p class="first">Bash/ZSH cdalias functions
SHOULD error (return nonzero) if the given variable is undefined.</p>
</li>
</ul>
</div>
<div class="section" id="venv-paths">
<span id="index-9"></span><span id="id9"></span><h3>Venv paths<a class="headerlink" href="#venv-paths" title="Permalink to this headline">¶</a></h3>
<p>Venv defines standard <a class="reference internal" href="tools/index#fhs"><em>Filesystem Hierarchy Standard</em></a> and <a class="reference internal" href="tools/index#python"><em>Python</em></a> paths,
environment variables,
and <a class="reference external" href="cdalias">CdAliases</a>
for routinizing workflow.</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="24%" />
<col width="29%" />
<col width="31%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>var name</strong></td>
<td><strong>description</strong></td>
<td><p class="first"><strong>cdaliases</strong></p>
<p>Bash: <code class="docutils literal"><span class="pre">cdhelp</span></code></p>
<p>IPython: <code class="docutils literal"><span class="pre">%cdhelp</span></code></p>
<p class="last">Vim: <code class="docutils literal"><span class="pre">:Cdhelp</span></code></p>
</td>
<td><strong>example path</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">HOME</span></code></td>
<td>user home directory</td>
<td><p class="first">Bash/ZSH: <code class="docutils literal"><span class="pre">cdh</span></code>, <code class="docutils literal"><span class="pre">cdhome</span></code></p>
<p>IPython: <code class="docutils literal"><span class="pre">%cdh</span></code>, <code class="docutils literal"><span class="pre">%cdhome</span></code></p>
<p class="last">Vim: <code class="docutils literal"><span class="pre">:Cdh</span></code>, <code class="docutils literal"><span class="pre">:Cdhome</span></code></p>
</td>
<td><code class="docutils literal"><span class="pre">~/</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">__WRK</span></code></td>
<td>workspace root</td>
<td><code class="docutils literal"><span class="pre">cdwrk</span></code> (ibid.)</td>
<td>~/<code class="docutils literal"><span class="pre">-wrk</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">WORKON_HOME</span></code></td>
<td>virtualenvs root</td>
<td><code class="docutils literal"><span class="pre">cdwh</span></code>, <code class="docutils literal"><span class="pre">cdworkonhome</span></code>, <code class="docutils literal"><span class="pre">cdve</span></code></td>
<td>~/-wrk/<code class="docutils literal"><span class="pre">-ve27</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">CONDA_ENVS_PATH</span></code></td>
<td>condaenvs root</td>
<td><code class="docutils literal"><span class="pre">cdch</span></code>, <code class="docutils literal"><span class="pre">cdcondahome</span></code></td>
<td>~/-wrk/<code class="docutils literal"><span class="pre">-ce27</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">VIRTUAL_ENV</span></code></td>
<td>virtualenv root</td>
<td><code class="docutils literal"><span class="pre">cdv</span></code>, <code class="docutils literal"><span class="pre">cdvirtualenv</span></code></td>
<td>~/-wrk/-ve27/<code class="docutils literal"><span class="pre">dotfiles</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">_BIN</span></code></td>
<td>virtualenv executables</td>
<td><code class="docutils literal"><span class="pre">cdb</span></code>, <code class="docutils literal"><span class="pre">cdbin</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">bin</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">_ETC</span></code></td>
<td>virtualenv configuration</td>
<td><code class="docutils literal"><span class="pre">cd</span></code>, <code class="docutils literal"><span class="pre">cdetc</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">etc</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">_LIB</span></code></td>
<td>virtualenv lib directory</td>
<td><code class="docutils literal"><span class="pre">cdl</span></code>, <code class="docutils literal"><span class="pre">cdlib</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">lib</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">_LOG</span></code></td>
<td>virtualenv log directory</td>
<td><code class="docutils literal"><span class="pre">cdlog</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">var/log</span></code></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">_SRC</span></code></td>
<td>virtualenv source repositories</td>
<td><code class="docutils literal"><span class="pre">cds</span></code>, <code class="docutils literal"><span class="pre">cdsrc</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">src</span></code></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">_WRD</span></code></td>
<td>virtualenv working directory</td>
<td><code class="docutils literal"><span class="pre">cdw</span></code>, <code class="docutils literal"><span class="pre">cdwrd</span></code></td>
<td>~/-wrk/-ve27/dotfiles/<code class="docutils literal"><span class="pre">src/dotfiles</span></code></td>
</tr>
</tbody>
</table>
<p>To generate this venv config:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>python -m dotfiles.venv.ipython_config --print-bash dotfiles
venv.py --print-bash dotfiles
venv --print-bash dotfiles docs
venv --print-bash dotfiles ~/path
venv --print-bash ~/-wrk/-ve27/dotfiles ~/path
</pre></div>
</div>
<p>To generate a default venv config with a prefix of <code class="docutils literal"><span class="pre">/</span></code>:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>venv --print-bash --prefix=/
</pre></div>
</div>
<p>To launch an interactive shell within a venv:</p>
<div class="code bash highlight-python"><div class="highlight"><pre>venv --run-bash dotfiles
venv -xb dotfiles
</pre></div>
</div>
</div>
<div class="section" id="venv-py">
<span id="index-10"></span><span id="id10"></span><h3>venv.py<a class="headerlink" href="#venv-py" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/scripts/venv.py">https://github.com/westurner/dotfiles/blob/master/etc/scripts/venv.py</a></div>
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.py">https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.py</a></div>
<div class="line">Docs <a class="reference internal" href="dotfiles.venv#module-dotfiles.venv.ipython_config" title="dotfiles.venv.ipython_config"><code class="xref py py-mod docutils literal"><span class="pre">dotfiles.venv.ipython_config</span></code></a></div>
</div>
<ul>
<li><p class="first">Venv.py (<a class="reference internal" href="#dotfiles-venv"><em>dotfiles.venv</em></a>)
is a symlink to <code class="docutils literal"><span class="pre">dotfiles.venv.ipython_config</span></code></p>
<ul class="simple">
<li>If the <cite>dotfiles</cite> package is on <code class="docutils literal"><span class="pre">sys.path</span></code>,
venv.py can also be run as <code class="docutils literal"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">dotfiles.venv.ipython_config</span></code></li>
</ul>
</li>
<li><p class="first">Venv.py is a single file with only standard library imports,
so that it works from <code class="docutils literal"><span class="pre">$PATH</span></code> and at IPython startup time:</p>
<div class="code bash highlight-python"><div class="highlight"><pre># PATH_prepend &quot;${__DOTFILES}/scripts&quot;
export PATH=&quot;~/-dotfiles/scripts:${PATH}&quot;
venv.py
</pre></div>
</div>
</li>
</ul>
<pre class="ansi-block literal-block">
$ python ../scripts/venv.py --help
usage: venv [-h] [-V] [-v] [-D] [-T] [-q] [-t] [--platform PLATFORM] [-e]
            [--__WRK [__WRK]] [--__DOTFILES [__DOTFILES]]
            [--WORKON_HOME [WORKON_HOME]] [--VENVSTR [VENVSTR_]]
            [--VENVSTRAPP [VENVSTRAPP_]]
            [--VIRTUAL_ENV_NAME [VIRTUAL_ENV_NAME]]
            [--VENVPREFIX [VENVPREFIX]] [--VIRTUAL_ENV [VIRTUAL_ENV]]
            [--_SRC [_SRC]] [--_APP [_APP]] [--_WRD [_WRD]] [--print-json]
            [--print-json-filename [PRINT_JSON_FILENAME]] [--print-vars]
            [--print-bash] [--print-bash-all] [--print-bash-aliases]
            [--print-bash-cdaliases] [-Z] [--print-vim-cdalias]
            [--print-ipython-magics] [--command RUN_COMMAND] [--run-bash]
            [--run-make] [--run-editp] [--run-terminal] [--pall] [--pwrk]
            [--pworkonhome] [--pvirtualenv] [--psrc] [--pwrd] [--pdotfiles]
            [--prel] [--pkg-resource-path] [--compress]
            [VENVSTR] [VENVSTRAPP] ...

venv is a configuration utility for virtual environments.

positional arguments:
  VENVSTR               a name of a virtualenv in WORKON_HOME OR a full path
                        to a VIRTUAL_ENV
  VENVSTRAPP            a path within _SRC (_WRD=_SRC/VENVSTRAPP)
  args

optional arguments:
  -h, --help            show this help message and exit
  -V, --version
  -v, --verbose
  -D, --diff, --show-diffs
  -T, --trace
  -q, --quiet
  -t, --test
  --platform PLATFORM   Platform string (default: None)
  -e, --from-environ    Build venv.env.environ from keys in os.environ
  --__WRK [__WRK], --WRK [__WRK], --wrk [__WRK]
                        Path to workspace -- ~/-wrk
  --__DOTFILES [__DOTFILES], --DOTFILES [__DOTFILES], --dotfiles [__DOTFILES]
                        Path to ${__DOTFILES} symlink -- ~/-dotfiles
  --WORKON_HOME [WORKON_HOME], --workonhome [WORKON_HOME], --wh [WORKON_HOME]
                        Path to ${WORKON_HOME} directory containing
                        VIRTUAL_ENVs
  --VENVSTR [VENVSTR_], --venvstr [VENVSTR_], --ve [VENVSTR_]
                        Path to VIRTUAL_ENV --
                        ${WORKON_HOME}/${VIRTUAL_ENV_NAME} (or a dirname in
                        $WORKON_HOME)
  --VENVSTRAPP [VENVSTRAPP_], --venvstrapp [VENVSTRAPP_]
                        Subpath within {VIRTUAL_ETC}/src/
  --VIRTUAL_ENV_NAME [VIRTUAL_ENV_NAME], --virtual-env-name [VIRTUAL_ENV_NAME], --vename [VIRTUAL_ENV_NAME]
                        dirname in WORKON_HOME --
                        ${WORKON_HOME}/${VIRTUAL_ENV_NAME}
  --VENVPREFIX [VENVPREFIX], --venvprefix [VENVPREFIX], --prefix [VENVPREFIX]
                        Prefix for _SRC, _ETC, _WRD if [ -z VIRTUAL_ENV ]
  --VIRTUAL_ENV [VIRTUAL_ENV], --virtual-env [VIRTUAL_ENV]
                        Path to a $VIRTUAL_ENV
  --_SRC [_SRC], --SRC [_SRC], --src [_SRC]
                        Path to source -- ${VIRTUAL_ENV}/src&quot;)
  --_APP [_APP], --APP [_APP], --app [_APP]
                        Path component string -- ${_SRC}/${_APP}
  --_WRD [_WRD], --WRD [_WRD], --wrd [_WRD]
                        Path to working directory -- ${_SRC}/${_APP}
  --print-json          Print venv configuration as JSON
  --print-json-filename [PRINT_JSON_FILENAME]
                        Path to write venv env JSON to
  --print-vars, --vars  Print vars
  --print-bash, --bash  Print Bash shell configuration
  --print-bash-all      Print Bash shell environ and aliases
  --print-bash-aliases, --bash-alias
                        Print Bash alias script
  --print-bash-cdaliases, --bash-cdalias
                        Print Bash cdalias script
  -Z, --print-zsh       Print ZSH shell configuration
  --print-vim-cdalias, --vim
                        Print vimscript configuration
  --print-ipython-magics
                        Print IPython magic methods
  --command RUN_COMMAND, --cmd RUN_COMMAND, -x RUN_COMMAND
                        Run a command in a venv-configured shell
  --run-bash, --xbash, -xb
                        Run bash in the specified venv
  --run-make, --xmake, -xmake
                        Run (cd $_WRD; make $&#64;) in the specified venv
  --run-editp, --open-editors, --edit, -E
                        Open $EDITOR_ with venv.project_files [$PROJECT_FILES]
  --run-terminal, --open-terminals, --terminals, --terms
                        Open terminals within the venv [gnome-terminal]
  --pall, --pathall     Print possible paths for the given path
  --pwrk, --wrk-path    Print $__WRK/$&#64;
  --pworkonhome, --workonhome-path, --pwh
                        Print $__WORKON_HOME/$&#64;
  --pvirtualenv, --virtualenv-path, --pv
                        Print $VIRTUAL_ENV/${&#64;}
  --psrc, --src-path, --ps
                        Print $_SRC/${&#64;}
  --pwrd, --wrd-path, --pw
                        Print $_WRD/${&#64;}
  --pdotfiles, --dotfiles-path, --pd
                        Print ${__DOTFILES}/${path}
  --prel, --relative-path
                        Print ${&#64;}
  --pkg-resource-path   Path from pkg_resources.TODOTODO
  --compress, --compress-paths
                        Path $VAR-ify the given paths from stdin

argparse.REMAINDER: If args must be specified, either (VENVSTR AND VENVSTRAPP)
or (--ve [--app]) must be specified first: venv --ve dotfiles -xmake.
</pre>
<div class="section" id="venv-python-api">
<span id="index-11"></span><span id="id11"></span><h4>Venv Python API<a class="headerlink" href="#venv-python-api" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>A <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Venv" title="dotfiles.venv.ipython_config.Venv"><code class="xref py py-mod docutils literal"><span class="pre">dotfiles.venv.ipython_config.Venv</span></code></a> object
has:<ul>
<li>An <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Env" title="dotfiles.venv.ipython_config.Env"><code class="xref py py-mod docutils literal"><span class="pre">Env</span></code></a>
with fully-expanded <code class="docutils literal"><span class="pre">$VIRTUAL_ENV</span></code>-relative paths
in a prefixed standard filesystem hierarchy,
environment variables for <a class="reference external" href="CdAlias">CdAliases</a>
and build scripts.</li>
<li>An <code class="docutils literal"><span class="pre">OrderedDict</span></code> of command and <a class="reference internal" href="#cdalias">CdAlias</a> aliases</li>
<li>Class methods for writing to JSON,
Bash shell scripts with tab completion, strings</li>
</ul>
</li>
<li>A <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Venv" title="dotfiles.venv.ipython_config.Venv"><code class="xref py py-mod docutils literal"><span class="pre">Venv</span></code></a> object
is built from a composition of
<a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Step" title="dotfiles.venv.ipython_config.Step"><code class="xref py py-mod docutils literal"><span class="pre">Step</span></code></a>
callables which transform
an <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Env" title="dotfiles.venv.ipython_config.Env"><code class="xref py py-mod docutils literal"><span class="pre">Env</span></code></a>
(e.g. as &#8220;compiled&#8221; by a
<a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.StepBuilder" title="dotfiles.venv.ipython_config.StepBuilder"><code class="xref py py-mod docutils literal"><span class="pre">dotfiles.venv.ipython_config.StepBuilder</span></code></a>).<ul>
<li>A <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.StepBuilder" title="dotfiles.venv.ipython_config.StepBuilder"><code class="xref py py-mod docutils literal"><span class="pre">StepBuilder</span></code></a>
builds a functional composition with diff-able snapshots/immutability and
configurable <em>logging</em> (<code class="docutils literal"><span class="pre">venv.py</span> <span class="pre">--verbose</span> <span class="pre">--show-diffs</span></code>).<ul>
<li>StepBuilder is inspired by <a class="reference internal" href="tools/index#make"><em>Makefiles</em></a>
but must work with escaped unicode strings (and e.g. <a class="reference internal" href="tools/index#json"><em>JSON</em></a>)
at IPython initiailization time,
using only the CPython 2.6/7+ standard library,
in a single file.</li>
</ul>
</li>
</ul>
</li>
<li>A <a class="reference internal" href="dotfiles.venv#dotfiles.venv.ipython_config.Venv" title="dotfiles.venv.ipython_config.Venv"><code class="xref py py-mod docutils literal"><span class="pre">Venv</span></code></a> object can be
serialized to a number of formats:<ul>
<li><code class="docutils literal"><span class="pre">--print-vars</span></code> &#8211; easy to read variables</li>
<li><code class="docutils literal"><span class="pre">--print-json</span></code> &#8211; quoted and escaped JSON</li>
<li><code class="docutils literal"><span class="pre">--print-bash</span></code> &#8211; quoted and escaped shell script</li>
<li>IPython configuration (DRY <code class="docutils literal"><span class="pre">%alias</span></code> and <a class="reference internal" href="#cdalias">CdAlias</a> definitions)</li>
</ul>
</li>
<li>There are <code class="docutils literal"><span class="pre">unittest.TestCase</span></code> tests in
<a class="reference internal" href="dotfiles.venv#module-dotfiles.venv.ipython_config" title="dotfiles.venv.ipython_config"><code class="xref py py-mod docutils literal"><span class="pre">dotfiles.venv.ipython_config</span></code></a> (<a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/src/dotfiles/venv/ipython_config.py">ipython_config.py</a>)
for Env, Venv, StepBuilder, and each of the included Step callables.<ul>
<li><code class="docutils literal"><span class="pre">python</span> <span class="pre">venv.py</span> <span class="pre">-t</span></code> to test.</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="venv-sh">
<span id="index-12"></span><span id="id13"></span><h3>venv.sh<a class="headerlink" href="#venv-sh" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.sh">https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.sh</a></div>
</div>
<ul class="simple">
<li>venv.sh contains
<a class="reference internal" href="#cdalias"><em>CdAlias</em></a> functions to be <code class="docutils literal"><span class="pre">source</span></code>-ed in at shell configuration time
(e.g. <code class="docutils literal"><span class="pre">./etc/bash/10-bashrc.venv.sh</span></code> (<code class="docutils literal"><span class="pre">dotfiles_reload()</span></code> (<code class="docutils literal"><span class="pre">dr()</span></code>))).</li>
</ul>
</div>
<div class="section" id="venv-root-prefix-sh">
<span id="index-13"></span><span id="id14"></span><h3>venv_root_prefix.sh<a class="headerlink" href="#venv-root-prefix-sh" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/venv/venv_root_prefix.sh">https://github.com/westurner/dotfiles/blob/master/etc/venv/venv_root_prefix.sh</a></div>
</div>
<ul class="simple">
<li>venv_root_prefix.sh contains a default root prefix environment
to be <code class="docutils literal"><span class="pre">source</span></code>-ed in at shell configuration time
(e.g. <code class="docutils literal"><span class="pre">./etc/bash/10-bashrc.venv.sh</span></code> (<code class="docutils literal"><span class="pre">dotfiles_reload()</span></code> (<code class="docutils literal"><span class="pre">dr()</span></code>))).</li>
</ul>
<div class="code bash highlight-python"><div class="highlight"><pre>venv.py --print-bash --compress --prefix=/ \
    | grep -v &#39;^export HOME=&#39; \
    &gt; ./etc/venv/venv_root_prefix.sh
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cdetc</span></code> -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">/etc</span></code></li>
<li><code class="docutils literal"><span class="pre">cdlog</span></code> -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">/var/log</span></code></li>
<li><code class="docutils literal"><span class="pre">cds</span></code>   -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">/src</span></code> (* <code class="docutils literal"><span class="pre">__SRC</span></code>)</li>
<li><code class="docutils literal"><span class="pre">cdwrk</span></code> -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">~/-wrk</span></code></li>
<li><code class="docutils literal"><span class="pre">cdwh</span></code>  -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">$WORKON_HOME</span></code></li>
<li><code class="docutils literal"><span class="pre">cdve</span></code>  -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">$WORKON_HOME</span></code> (<code class="docutils literal"><span class="pre">cdve</span> <span class="pre">dotfiles/etc/bash</span></code>)</li>
<li><code class="docutils literal"><span class="pre">cdd</span></code>   -&gt; <code class="docutils literal"><span class="pre">cd</span> <span class="pre">$__DOTFILES</span></code>  (<code class="docutils literal"><span class="pre">cd</span> <span class="pre">~/-dotfiles</span></code>)</li>
</ul>
</div>
<div class="section" id="id15">
<span id="id16"></span><h3>venv_ipymagics.py<a class="headerlink" href="#id15" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/src/dotfiles/venv/venv_ipymagics.py">https://github.com/westurner/dotfiles/blob/master/src/dotfiles/venv/venv_ipymagics.py</a></div>
</div>
<ul class="simple">
<li><a class="reference internal" href="#cdalias"><em>CdAliases</em></a></li>
<li><code class="docutils literal"><span class="pre">dotfiles_status()</span></code> (<code class="docutils literal"><span class="pre">ds()</span></code>)</li>
</ul>
</div>
<div class="section" id="venv-vim">
<span id="index-15"></span><span id="id17"></span><h3>venv.vim<a class="headerlink" href="#venv-vim" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Src: git <a class="reference external" href="https://github.com/westurner/venv.vim">https://github.com/westurner/venv.vim</a></div>
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/venv.vim/blob/master/plugin/venv.vim">https://github.com/westurner/venv.vim/blob/master/plugin/venv.vim</a></div>
<div class="line">Src: <a class="reference external" href="https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.vim">https://github.com/westurner/dotfiles/blob/master/etc/venv/venv.vim</a></div>
</div>
<p>Venv.vim is a <a class="reference internal" href="tools/index#vim"><em>Vim</em></a> plugin for defining
<a class="reference internal" href="#cdalias"><em>CdAliases</em></a> like <code class="docutils literal"><span class="pre">:Cdhelp</span></code>, <code class="docutils literal"><span class="pre">:Cdwrk</span></code>, <code class="docutils literal"><span class="pre">:Cdwrd</span></code>,
<code class="docutils literal"><span class="pre">:Cddotfiles</span></code> (<cite>:Cdd`</cite>).</p>
</div>
</div>
<div class="section" id="venv-shell-configuration">
<span id="index-16"></span><span id="id18"></span><h2>Venv Shell Configuration<a class="headerlink" href="#venv-shell-configuration" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">venv.py</span> <span class="pre">--print-bash</span> <span class="pre">--compress</span> <span class="pre">dotfilesx</span> <span class="pre">dotfilesx/docs</span></code>:</p>
<pre class="ansi-block literal-block">
$ python ../scripts/venv.py --print-bash --compress dotfilesx dotfilesx/docs \
| sed &quot;s,${HOME},~,g&quot;
export HOME=&quot;~&quot;
export __WRK=&quot;${HOME}/-wrk&quot;
export __SRC=&quot;${PROJECT_HOME}/-src&quot;
export __DOTFILES=&quot;${HOME}/-dotfiles&quot;
export PROJECT_HOME=&quot;${HOME}/-wrk&quot;
export WORKON_HOME__py27=&quot;${PROJECT_HOME}/-ve27&quot;
export WORKON_HOME__py34=&quot;${PROJECT_HOME}/-ve34&quot;
export WORKON_HOME_DEFAULT=&quot;WORKON_HOME__py27&quot;
export CONDA_ROOT__py27=&quot;${PROJECT_HOME}/-conda27&quot;
export CONDA_ENVS__py27=&quot;${PROJECT_HOME}/-ce27&quot;
export CONDA_ROOT__py34=&quot;${PROJECT_HOME}/-conda34&quot;
export CONDA_ENVS__py34=&quot;${PROJECT_HOME}/-ce34&quot;
export CONDA_ROOT=&quot;${PROJECT_HOME}/-conda27&quot;
export CONDA_ENVS_PATH=&quot;${PROJECT_HOME}/-ce27&quot;
export WORKON_HOME=&quot;${PROJECT_HOME}/-ve27&quot;
export VENVSTR=&quot;dotfilesx&quot;
export VENVSTRAPP=&quot;${VENVSTR}/docs&quot;
export VIRTUAL_ENV_NAME=&quot;${VENVSTR}&quot;
export VIRTUAL_ENV=&quot;${WORKON_HOME}/${VENVSTR}&quot;
export VENVPREFIX=&quot;${WORKON_HOME}/${VENVSTR}&quot;
export _APP=&quot;${VENVSTRAPP}&quot;
export _ETC=&quot;${VIRTUAL_ENV}/etc&quot;
export _SRC=&quot;${VIRTUAL_ENV}/src&quot;
export _WRD=&quot;${_SRC}/${VENVSTRAPP}&quot;
export _BIN=&quot;${VIRTUAL_ENV}/bin&quot;
export _ETCOPT=&quot;${_ETC}/opt&quot;
export _HOME=&quot;${VIRTUAL_ENV}/home&quot;
export _LIB=&quot;${VIRTUAL_ENV}/lib&quot;
export _PYLIB=&quot;${VIRTUAL_ENV}/lib/python2.7&quot;
export _PYSITE=&quot;${VIRTUAL_ENV}/lib/python2.7/site-packages&quot;
export _MNT=&quot;${VIRTUAL_ENV}/mnt&quot;
export _MEDIA=&quot;${VIRTUAL_ENV}/media&quot;
export _OPT=&quot;${VIRTUAL_ENV}/opt&quot;
export _ROOT=&quot;${VIRTUAL_ENV}/root&quot;
export _SBIN=&quot;${VIRTUAL_ENV}/sbin&quot;
export _SRV=&quot;${VIRTUAL_ENV}/srv&quot;
export _TMP=&quot;${VIRTUAL_ENV}/tmp&quot;
export _USR=&quot;${VIRTUAL_ENV}/usr&quot;
export _USRBIN=&quot;${VIRTUAL_ENV}/usr/bin&quot;
export _USRINCLUDE=&quot;${VIRTUAL_ENV}/usr/include&quot;
export _USRLIB=&quot;${VIRTUAL_ENV}/usr/lib&quot;
export _USRLOCAL=&quot;${VIRTUAL_ENV}/usr/local&quot;
export _USRLOCALBIN=&quot;${VIRTUAL_ENV}/usr/local/bin&quot;
export _USRSBIN=&quot;${VIRTUAL_ENV}/usr/sbin&quot;
export _USRSHARE=&quot;${VIRTUAL_ENV}/usr/share&quot;
export _USRSRC=&quot;${VIRTUAL_ENV}/usr/src&quot;
export _VAR=&quot;${VIRTUAL_ENV}/var&quot;
export _VARCACHE=&quot;${VIRTUAL_ENV}/var/cache&quot;
export _VARLIB=&quot;${VIRTUAL_ENV}/var/lib&quot;
export _VARLOCK=&quot;${VIRTUAL_ENV}/var/lock&quot;
export _LOG=&quot;${VIRTUAL_ENV}/var/log&quot;
export _VARMAIL=&quot;${VIRTUAL_ENV}/var/mail&quot;
export _VAROPT=&quot;${VIRTUAL_ENV}/var/opt&quot;
export _VARRUN=&quot;${VIRTUAL_ENV}/var/run&quot;
export _VARSPOOL=&quot;${VIRTUAL_ENV}/var/spool&quot;
export _VARTMP=&quot;${VIRTUAL_ENV}/var/tmp&quot;
export _WWW=&quot;${VIRTUAL_ENV}/var/www&quot;
export _USRLOG=&quot;${VIRTUAL_ENV}/-usrlog.log&quot;
</pre>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">--compress</span></code> option was initially written
for documentation purposes;
without this option, paths are expanded in full.</p>
</div>
</div>
<div class="section" id="venv-json">
<span id="index-17"></span><span id="id19"></span><h2>Venv JSON<a class="headerlink" href="#venv-json" title="Permalink to this headline">¶</a></h2>
<p>Venv <a class="reference internal" href="tools/index#json"><em>JSON</em></a> is useful for double-checking shell-escaping
and unicode.</p>
<p><code class="docutils literal"><span class="pre">venv.py</span> <span class="pre">--print-json</span> <span class="pre">dotfiles</span></code>:</p>
<pre class="ansi-block literal-block">
$ python ../scripts/venv.py --print-json dotfilesx dotfilesx/docs \
| python ../scripts/venv.py --compress dotfilesx dotfilesx/docs \
| sed &quot;s,${HOME},~,g&quot;
{
    &quot;environ&quot;: {
        &quot;HOME&quot;: &quot;~&quot;,
        &quot;__WRK&quot;: &quot;${HOME}/-wrk&quot;,
        &quot;__SRC&quot;: &quot;${PROJECT_HOME}/-src&quot;,
        &quot;__DOTFILES&quot;: &quot;${HOME}/-dotfiles&quot;,
        &quot;PROJECT_HOME&quot;: &quot;${HOME}/-wrk&quot;,
        &quot;WORKON_HOME__py27&quot;: &quot;${PROJECT_HOME}/-ve27&quot;,
        &quot;WORKON_HOME__py34&quot;: &quot;${PROJECT_HOME}/-ve34&quot;,
        &quot;WORKON_HOME_DEFAULT&quot;: &quot;WORKON_HOME__py27&quot;,
        &quot;CONDA_ROOT__py27&quot;: &quot;${PROJECT_HOME}/-conda27&quot;,
        &quot;CONDA_ENVS__py27&quot;: &quot;${PROJECT_HOME}/-ce27&quot;,
        &quot;CONDA_ROOT__py34&quot;: &quot;${PROJECT_HOME}/-conda34&quot;,
        &quot;CONDA_ENVS__py34&quot;: &quot;${PROJECT_HOME}/-ce34&quot;,
        &quot;CONDA_ROOT&quot;: &quot;${PROJECT_HOME}/-conda27&quot;,
        &quot;CONDA_ENVS_PATH&quot;: &quot;${PROJECT_HOME}/-ce27&quot;,
        &quot;WORKON_HOME&quot;: &quot;${PROJECT_HOME}/-ve27&quot;,
        &quot;VENVSTR&quot;: &quot;${VENVSTR}&quot;,
        &quot;VENVSTRAPP&quot;: &quot;${VENVSTRAPP}&quot;,
        &quot;VIRTUAL_ENV_NAME&quot;: &quot;${VENVSTR}&quot;,
        &quot;VIRTUAL_ENV&quot;: &quot;${WORKON_HOME}/${VENVSTR}&quot;,
        &quot;VENVPREFIX&quot;: &quot;${WORKON_HOME}/${VENVSTR}&quot;,
        &quot;_APP&quot;: &quot;${VENVSTRAPP}&quot;,
        &quot;_ETC&quot;: &quot;${VIRTUAL_ENV}/etc&quot;,
        &quot;_SRC&quot;: &quot;${VIRTUAL_ENV}/src&quot;,
        &quot;_WRD&quot;: &quot;${_SRC}/${VENVSTRAPP}&quot;,
        &quot;_BIN&quot;: &quot;${VIRTUAL_ENV}/bin&quot;,
        &quot;_ETCOPT&quot;: &quot;${_ETC}/opt&quot;,
        &quot;_HOME&quot;: &quot;${VIRTUAL_ENV}/home&quot;,
        &quot;_LIB&quot;: &quot;${VIRTUAL_ENV}/lib&quot;,
        &quot;_PYLIB&quot;: &quot;${VIRTUAL_ENV}/lib/python2.7&quot;,
        &quot;_PYSITE&quot;: &quot;${VIRTUAL_ENV}/lib/python2.7/site-packages&quot;,
        &quot;_MNT&quot;: &quot;${VIRTUAL_ENV}/mnt&quot;,
        &quot;_MEDIA&quot;: &quot;${VIRTUAL_ENV}/media&quot;,
        &quot;_OPT&quot;: &quot;${VIRTUAL_ENV}/opt&quot;,
        &quot;_ROOT&quot;: &quot;${VIRTUAL_ENV}/root&quot;,
        &quot;_SBIN&quot;: &quot;${VIRTUAL_ENV}/sbin&quot;,
        &quot;_SRV&quot;: &quot;${VIRTUAL_ENV}/srv&quot;,
        &quot;_TMP&quot;: &quot;${VIRTUAL_ENV}/tmp&quot;,
        &quot;_USR&quot;: &quot;${VIRTUAL_ENV}/usr&quot;,
        &quot;_USRBIN&quot;: &quot;${VIRTUAL_ENV}/usr/bin&quot;,
        &quot;_USRINCLUDE&quot;: &quot;${VIRTUAL_ENV}/usr/include&quot;,
        &quot;_USRLIB&quot;: &quot;${VIRTUAL_ENV}/usr/lib&quot;,
        &quot;_USRLOCAL&quot;: &quot;${VIRTUAL_ENV}/usr/local&quot;,
        &quot;_USRLOCALBIN&quot;: &quot;${VIRTUAL_ENV}/usr/local/bin&quot;,
        &quot;_USRSBIN&quot;: &quot;${VIRTUAL_ENV}/usr/sbin&quot;,
        &quot;_USRSHARE&quot;: &quot;${VIRTUAL_ENV}/usr/share&quot;,
        &quot;_USRSRC&quot;: &quot;${VIRTUAL_ENV}/usr/src&quot;,
        &quot;_VAR&quot;: &quot;${VIRTUAL_ENV}/var&quot;,
        &quot;_VARCACHE&quot;: &quot;${VIRTUAL_ENV}/var/cache&quot;,
        &quot;_VARLIB&quot;: &quot;${VIRTUAL_ENV}/var/lib&quot;,
        &quot;_VARLOCK&quot;: &quot;${VIRTUAL_ENV}/var/lock&quot;,
        &quot;_LOG&quot;: &quot;${VIRTUAL_ENV}/var/log&quot;,
        &quot;_VARMAIL&quot;: &quot;${VIRTUAL_ENV}/var/mail&quot;,
        &quot;_VAROPT&quot;: &quot;${VIRTUAL_ENV}/var/opt&quot;,
        &quot;_VARRUN&quot;: &quot;${VIRTUAL_ENV}/var/run&quot;,
        &quot;_VARSPOOL&quot;: &quot;${VIRTUAL_ENV}/var/spool&quot;,
        &quot;_VARTMP&quot;: &quot;${VIRTUAL_ENV}/var/tmp&quot;,
        &quot;_WWW&quot;: &quot;${VIRTUAL_ENV}/var/www&quot;,
        &quot;_USRLOG&quot;: &quot;${VIRTUAL_ENV}/-usrlog.log&quot;
    },
    &quot;aliases&quot;: {
        &quot;cdhome&quot;: &quot;cdhome () {\n    # cdhome            -- cd $HOME /$&#64;\n    [ -z \&quot;$HOME\&quot; ] &amp;&amp; echo \&quot;HOME is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$HOME\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd_HOME_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdhome &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdh () {\n    # cdh               -- cd $HOME\n    cdhome $&#64;\n}\ncomplete -o default -o nospace -F _cd_HOME_complete cdhome\ncomplete -o default -o nospace -F _cd_HOME_complete cdh\n&quot;,
        &quot;cdwrk&quot;: &quot;cdwrk () {\n    # cdwrk             -- cd $__WRK /$&#64;\n    [ -z \&quot;$__WRK\&quot; ] &amp;&amp; echo \&quot;__WRK is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$__WRK\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd___WRK_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdwrk &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncomplete -o default -o nospace -F _cd___WRK_complete cdwrk\n&quot;,
        &quot;cdddotfiles&quot;: &quot;cddotfiles () {\n    # cddotfiles        -- cd $__DOTFILES /$&#64;\n    [ -z \&quot;$__DOTFILES\&quot; ] &amp;&amp; echo \&quot;__DOTFILES is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$__DOTFILES\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd___DOTFILES_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cddotfiles &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdd () {\n    # cdd               -- cd $__DOTFILES\n    cddotfiles $&#64;\n}\ncomplete -o default -o nospace -F _cd___DOTFILES_complete cddotfiles\ncomplete -o default -o nospace -F _cd___DOTFILES_complete cdd\n&quot;,
        &quot;cdprojecthome&quot;: &quot;cdprojecthome () {\n    # cdprojecthome     -- cd $PROJECT_HOME /$&#64;\n    [ -z \&quot;$PROJECT_HOME\&quot; ] &amp;&amp; echo \&quot;PROJECT_HOME is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$PROJECT_HOME\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd_PROJECT_HOME_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdprojecthome &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdp () {\n    # cdp               -- cd $PROJECT_HOME\n    cdprojecthome $&#64;\n}\ncdph () {\n    # cdph              -- cd $PROJECT_HOME\n    cdprojecthome $&#64;\n}\ncomplete -o default -o nospace -F _cd_PROJECT_HOME_complete cdprojecthome\ncomplete -o default -o nospace -F _cd_PROJECT_HOME_complete cdp\ncomplete -o default -o nospace -F _cd_PROJECT_HOME_complete cdph\n&quot;,
        &quot;cdworkonhome&quot;: &quot;cdworkonhome () {\n    # cdworkonhome      -- cd $WORKON_HOME /$&#64;\n    [ -z \&quot;$WORKON_HOME\&quot; ] &amp;&amp; echo \&quot;WORKON_HOME is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$WORKON_HOME\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd_WORKON_HOME_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdworkonhome &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdwh () {\n    # cdwh              -- cd $WORKON_HOME\n    cdworkonhome $&#64;\n}\ncdve () {\n    # cdve              -- cd $WORKON_HOME\n    cdworkonhome $&#64;\n}\ncomplete -o default -o nospace -F _cd_WORKON_HOME_complete cdworkonhome\ncomplete -o default -o nospace -F _cd_WORKON_HOME_complete cdwh\ncomplete -o default -o nospace -F _cd_WORKON_HOME_complete cdve\n&quot;,
        &quot;cdcondahome&quot;: &quot;cdcondaenvspath () {\n    # cdcondaenvspath   -- cd $CONDA_ENVS_PATH /$&#64;\n    [ -z \&quot;$CONDA_ENVS_PATH\&quot; ] &amp;&amp; echo \&quot;CONDA_ENVS_PATH is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$CONDA_ENVS_PATH\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd_CONDA_ENVS_PATH_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdcondaenvspath &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncda () {\n    # cda               -- cd $CONDA_ENVS_PATH\n    cdcondaenvspath $&#64;\n}\ncdce () {\n    # cdce              -- cd $CONDA_ENVS_PATH\n    cdcondaenvspath $&#64;\n}\ncomplete -o default -o nospace -F _cd_CONDA_ENVS_PATH_complete cdcondaenvspath\ncomplete -o default -o nospace -F _cd_CONDA_ENVS_PATH_complete cda\ncomplete -o default -o nospace -F _cd_CONDA_ENVS_PATH_complete cdce\n&quot;,
        &quot;cdvirtualenv&quot;: &quot;cdvirtualenv () {\n    # cdvirtualenv      -- cd $VIRTUAL_ENV /$&#64;\n    [ -z \&quot;$VIRTUAL_ENV\&quot; ] &amp;&amp; echo \&quot;VIRTUAL_ENV is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$VIRTUAL_ENV\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd_VIRTUAL_ENV_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdvirtualenv &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdv () {\n    # cdv               -- cd $VIRTUAL_ENV\n    cdvirtualenv $&#64;\n}\ncomplete -o default -o nospace -F _cd_VIRTUAL_ENV_complete cdvirtualenv\ncomplete -o default -o nospace -F _cd_VIRTUAL_ENV_complete cdv\n&quot;,
        &quot;cdsrc&quot;: &quot;cdsrc () {\n    # cdsrc             -- cd $_SRC /$&#64;\n    [ -z \&quot;$_SRC\&quot; ] &amp;&amp; echo \&quot;_SRC is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_SRC\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__SRC_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdsrc &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncds () {\n    # cds               -- cd $_SRC\n    cdsrc $&#64;\n}\ncomplete -o default -o nospace -F _cd__SRC_complete cdsrc\ncomplete -o default -o nospace -F _cd__SRC_complete cds\n&quot;,
        &quot;cdwrd&quot;: &quot;cdwrd () {\n    # cdwrd             -- cd $_WRD /$&#64;\n    [ -z \&quot;$_WRD\&quot; ] &amp;&amp; echo \&quot;_WRD is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_WRD\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__WRD_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdwrd &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdw () {\n    # cdw               -- cd $_WRD\n    cdwrd $&#64;\n}\ncomplete -o default -o nospace -F _cd__WRD_complete cdwrd\ncomplete -o default -o nospace -F _cd__WRD_complete cdw\n&quot;,
        &quot;cdbin&quot;: &quot;cdbin () {\n    # cdbin             -- cd $_BIN /$&#64;\n    [ -z \&quot;$_BIN\&quot; ] &amp;&amp; echo \&quot;_BIN is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_BIN\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__BIN_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdbin &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdb () {\n    # cdb               -- cd $_BIN\n    cdbin $&#64;\n}\ncomplete -o default -o nospace -F _cd__BIN_complete cdbin\ncomplete -o default -o nospace -F _cd__BIN_complete cdb\n&quot;,
        &quot;cdetc&quot;: &quot;cdetc () {\n    # cdetc             -- cd $_ETC /$&#64;\n    [ -z \&quot;$_ETC\&quot; ] &amp;&amp; echo \&quot;_ETC is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_ETC\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__ETC_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdetc &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncde () {\n    # cde               -- cd $_ETC\n    cdetc $&#64;\n}\ncomplete -o default -o nospace -F _cd__ETC_complete cdetc\ncomplete -o default -o nospace -F _cd__ETC_complete cde\n&quot;,
        &quot;cdlib&quot;: &quot;cdlib () {\n    # cdlib             -- cd $_LIB /$&#64;\n    [ -z \&quot;$_LIB\&quot; ] &amp;&amp; echo \&quot;_LIB is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_LIB\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__LIB_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdlib &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdl () {\n    # cdl               -- cd $_LIB\n    cdlib $&#64;\n}\ncomplete -o default -o nospace -F _cd__LIB_complete cdlib\ncomplete -o default -o nospace -F _cd__LIB_complete cdl\n&quot;,
        &quot;cdlog&quot;: &quot;cdlog () {\n    # cdlog             -- cd $_LOG /$&#64;\n    [ -z \&quot;$_LOG\&quot; ] &amp;&amp; echo \&quot;_LOG is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_LOG\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__LOG_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdlog &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncomplete -o default -o nospace -F _cd__LOG_complete cdlog\n&quot;,
        &quot;cdpylib&quot;: &quot;cdpylib () {\n    # cdpylib           -- cd $_PYLIB /$&#64;\n    [ -z \&quot;$_PYLIB\&quot; ] &amp;&amp; echo \&quot;_PYLIB is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_PYLIB\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__PYLIB_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdpylib &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncomplete -o default -o nospace -F _cd__PYLIB_complete cdpylib\n&quot;,
        &quot;cdpysite&quot;: &quot;cdpysite () {\n    # cdpysite          -- cd $_PYSITE /$&#64;\n    [ -z \&quot;$_PYSITE\&quot; ] &amp;&amp; echo \&quot;_PYSITE is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_PYSITE\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__PYSITE_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdpysite &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdsitepackages () {\n    # cdsitepackages    -- cd $_PYSITE\n    cdpysite $&#64;\n}\ncomplete -o default -o nospace -F _cd__PYSITE_complete cdpysite\ncomplete -o default -o nospace -F _cd__PYSITE_complete cdsitepackages\n&quot;,
        &quot;cdvar&quot;: &quot;cdvar () {\n    # cdvar             -- cd $_VAR /$&#64;\n    [ -z \&quot;$_VAR\&quot; ] &amp;&amp; echo \&quot;_VAR is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_VAR\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__VAR_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdvar &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncomplete -o default -o nospace -F _cd__VAR_complete cdvar\n&quot;,
        &quot;cdwww&quot;: &quot;cdwww () {\n    # cdwww             -- cd $_WWW /$&#64;\n    [ -z \&quot;$_WWW\&quot; ] &amp;&amp; echo \&quot;_WWW is not set\&quot; &amp;&amp; return 1\n    cd \&quot;$_WWW\&quot;${&#64;:+\&quot;/${&#64;}\&quot;}\n}\n_cd__WWW_complete () {\n    local cur=\&quot;$2\&quot;;\n    COMPREPLY=($(cdwww &amp;&amp; compgen -d -- \&quot;${cur}\&quot; ))\n}\ncdww () {\n    # cdww              -- cd $_WWW\n    cdwww $&#64;\n}\ncomplete -o default -o nospace -F _cd__WWW_complete cdwww\ncomplete -o default -o nospace -F _cd__WWW_complete cdww\n&quot;,
        &quot;cdls&quot;: &quot;set | grep \&quot;^cd.*()\&quot; | cut -f1 -d\&quot; \&quot; #%l&quot;,
        &quot;cdhelp&quot;: &quot;cat ${__DOTFILES}/''etc/venv/venv.sh | pyline.py -r '^\\s*#+\\s+.*' 'rgx and l'&quot;
    }
}
</pre>
<div class="section" id="other-scripts-with-venv-style-paths">
<h3>Other scripts with venv-style paths<a class="headerlink" href="#other-scripts-with-venv-style-paths" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> recur in most build scripts (often with different
names)</li>
<li>Venv paths are configurable at the commandline with <a class="reference internal" href="#venv-py"><em>venv.py</em></a>,
but any script can define a script environment just like venv:</li>
</ul>
<div class="code bash highlight-python"><div class="highlight"><pre>#!/bin/sh

__WRK=&quot;${HOME}/-wrk&quot;                          # cdwrk
__DOTFILES=&quot;${HOME}/-dotfiles&quot;                # cdd cddotfiles
PROJECT_HOME=&quot;${__WRK}&quot;                       # cdph cdprojecthome
WORKON_HOME=&quot;${__WRK}/-ve27&quot;                  # cdwh cdworkonhome

CONDA_ROOT=&quot;${__WRK}/-conda27&quot;                # $CONDA_ROOT__py27
CONDA_ENVS_PATH=&quot;${__WRK}/-ce27&quot;              # cdce cda cdcondaenvspath

VIRTUAL_ENV_NAME=&quot;dotfiles&quot;                   # &#39;dotfiles&#39;
_APP=$VIRTUAL_ENV_NAME                        # &#39;dotfiles[/p/a/t/h]&#39;
VIRTUAL_ENV=&quot;$WORKON_HOME/$VIRTUAL_ENV_NAME&quot;  # cdv cdvirtualenv
_SRC=&quot;${VIRTUAL_ENV}/src&quot;                     # cds cdsrc
_BIN=&quot;${VIRTUAL_ENV}/bin&quot;                     # cde cdbin
_ETC=&quot;${VIRTUAL_ENV}/etc&quot;                     # cde cdetc
_LOG=&quot;${VIRTUAL_ENV}/var/log&quot;                 # cdl cdlog
# ... see: venv.py --print-vars / ...
_WRD=&quot;${_SRC}/{_APP}&quot;                         # cdw cdwrd

(set -x; test &quot;$_WRD&quot; == &quot;${HOME}/-wrk/-ve27/dotfiles/src/dotfiles&quot;; \
    || echo &quot;Exception: _WRD = &#39;${_WRD}&#39;;&quot; )
</pre></div>
</div>
<div class="code bash highlight-python"><div class="highlight"><pre><span class="c">### dotfiles.venv env variable naming style:</span>
<span class="c"># GLOBAL (ALL CAPS)</span>
<span class="c"># _VENVLOCAL    # VIRTUAL_ENV, _SRC, _WRD, _ETC, _LOG</span>
<span class="c"># __VENVGLOBAL  # __DOTFILES, __WRK, WORKON_HOME, CONDA_ENVS_PATH</span>
</pre></div>
</div>
<p>See: <a class="reference internal" href="#venv-paths"><em>Venv paths</em></a> for a more complete table of <a class="reference internal" href="#cdalias"><em>CdAliases</em></a> and
<a class="reference internal" href="#venv-shell-configuration"><em>Venv Shell Configuration</em></a> standard variable names.</p>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      </div><!-- /row -->

      <!-- row -->
      <div class="row footer-relbar">
<div id="navbar-related" class=" related navbar navbar-default" role="navigation" aria-label="related navigation">
  <div class="navbar-inner">
    <ul class="nav navbar-nav text-center">
        <li><a href="index">westurner/dotfiles 0.9.0 documentation</a></li>
    </ul>
<ul class="nav navbar-nav text-center">
      
        <li><a href="usage" title="Usage" >previous</a></li>
        <li><a href="usrlog" title="usrlog" >next</a></li>
        <li><a href="py-modindex" title="Python Module Index" >modules</a></li>
        <li><a href="genindex" title="General Index" >index</a></li>
        <li><a href="#">top</a></li> 
      
    </ul>
  </div>
</div>
      </div><!-- /row -->

      <!-- footer -->
      <footer role="contentinfo">
          &copy; Copyright 2014, Wes Turner.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.3b3.
      </footer>
      <!-- /footer -->

    </div>
    <!-- /container -->

  </body>
</html>